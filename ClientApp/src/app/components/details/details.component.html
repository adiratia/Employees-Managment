
<div *ngIf="employee && employee.is_manager===1">
  <app-nav-menu [manager]="true"></app-nav-menu>
</div>
<div *ngIf="employee && employee.is_manager===0">
  <app-nav-menu ></app-nav-menu>
</div>


  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">
  <div class="container bootstrap snippets bootdey">



    <div class="row">
      <div class="profile-nav col-md-3">
        <div class="panel">
          <div class="user-heading round">
            <a href="#">
              <img src="https://www.zuckermanlaw.com/wp-content/uploads/whistleblowing/anonymous-sec-whistleblower.jpg" alt="">
            </a>
            <h1>{{employee && employee.first_name}} {{employee && employee.last_name}}</h1>
          </div>
        </div>
      </div>
      <div class="profile-info col-md-9">

        <div class="panel">
          <div class="bio-graph-heading">
            <h2>Employee Details</h2>
          </div>
          <div class="panel-body bio-graph-info">
            <br />
            <div class="row">
              <div class="bio-row">
                <p><b><span>First Name :</span></b>{{ employee && employee.first_name}}</p>
              </div>
              <div class="bio-row">
                <p><b><span>Last Name :</span></b>{{ employee && employee.last_name}}</p>
              </div>
              <div class="bio-row">
                <p><b><span>Position :</span> </b> {{ employee && employee.position}}</p>
              </div>
              <div class="bio-row">
                <p><b><span>Manager: </span></b>{{manager && manager.first_name}} {{manager && manager.last_name}}</p>
              </div>

            </div>
          </div>
        </div>
        <div>

          <!--Check if exist direct manager to the employee-->
          <div *ngIf="manager_id  !== null">
            <!-- Button trigger add report popup -->
            <button type="button" class="btn btn-primary float-left m-2" data-toggle="modal" data-target="#exampleModalCenter"
                    (click)="addReport()"
                    data-backdrop="static" data-keyboard="false">
              Add Report
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Check if employee is manager -->
    <div *ngIf="employee && employee.is_manager===1">
      <!-- Reports list -->
      <app-reports-list [managerId]="employee && employee.id"></app-reports-list>
      <!-- Subordnatess list -->
      <app-subordinates [managerId]="employee && employee.id"> </app-subordinates>
    </div>
    <!-- Tasks list -->
    <app-task-list [empId]="employee && employee.id"> </app-task-list>
  </div>

  <!-- Add report popup -->
  <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLongTitle">{{ModalTitle}}</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"
                  (click)="CloseClick()">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <!-- Add report page -->
          <app-add-report [empId]="employee && employee.id" [managerId]=" manager && manager.id"></app-add-report>
        </div>
      </div>
    </div>
  </div>
